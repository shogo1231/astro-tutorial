---
import BlogPost from './BlogPost.astro';

const allPosts = await Astro.glob('../pages/posts/*.md');
/**
 * globで取得したマークダウンファイルを下記にてターミナルで確認可能
 * 基本的には次の３つが利用されることになりそう
 * frontmatter：フロントマター。各マークダウンで記述した内容がObjで格納されている。
 * file：各マークダウンの絶対パス
 * url：各マークダウンの相対パス
 */
allPosts.map((val) => {
  console.log(val);
})
---

<h1>私のAstro学習ブログ</h1>
<p>ここには、私がAstroを学んでいく旅の様子を投稿します。</p>

<ul>
  <!-- <li><a href="/posts/post-1/">記事1</a></li>
  <li><a href="/posts/post-2/">記事2</a></li>
  <li><a href="/posts/post-3/">記事3</a></li> -->

  <!-- {allPosts.map((post: any) => <li><a href={post.url}>{post.frontmatter.title}</a></li>)} -->

  {allPosts.map((post: any) => <BlogPost url={post.url} title={post.frontmatter.title} />)}
</ul>